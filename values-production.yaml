# Default values for helm chart.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 2
image:
    repository: ghcr.io/ravelin/laravel-docker:sha-02f9471
    pullPolicy: Always
    # Overrides the image tag whose default is the chart appVersion.
    tag: ""

aws:
    region: eu-west-2

config:
    environment: production
    name: cti-backend-production
    namespace: cti-production
    ingress:
        host:
            path: /
            pathType: Prefix
            url: prd.test
        type: LoadBalancer
        env: production
        annotations:
            kubernetes.io/ingress.class: alb
            alb.ingress.kubernetes.io/backend-protocol: HTTPS
            alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80}, {"HTTPS":443}]'
            alb.ingress.kubernetes.io/scheme: internet-facing
        ingressClass: nginx
    ports:
        port: 80
        targetPort: 9000
    phpService:
        type: NodePort
        targetPort: 9000

autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 4
    targetMemoryUtilizationPercentage: 50
